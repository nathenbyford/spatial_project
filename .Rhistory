"Population Density" = Popdensity,
"Excessive Drinking" = Excessive_Drinking
)
tbl_dat <- data |>
select(positive, totalTestResults, test_rate, Popdensity, AirPol, Obesity, Smoking, Excessive_Drinking) |>
rename(
"Positive tests" = positive,
"Total tests" = totalTestResults,
"Testing Rate" = testing_rate,
"Air Polution" = AirPol,
"Population Density" = Popdensity,
"Excessive Drinking" = Excessive_Drinking
)
tbl_dat <- data |>
select(positive, totalTestResults, test_rate, Popdensity, AirPol, Obesity, Smoking, Excessive_Drinking) |>
rename(
"Positive tests" = positive,
"Total tests" = totalTestResults,
"Testing Rate" = test_rate,
"Air Polution" = AirPol,
"Population Density" = Popdensity,
"Excessive Drinking" = Excessive_Drinking
)
tbl_dat |>
tbl_summary() |>
bold_labels() |>
modify_caption("Summary statistics for variables")
:::{.subtext}
dim(data)
data |>
ggplot(aes(x = positive)) +
geom_histogram()
data |>
ggplot(aes(x = positive)) +
geom_histogram(bins = 100)
data |>
ggplot(aes(x = positive)) +
geom_histogram(bins = 100) +
scale_x_continuous(labels = comma)
data |>
ggplot(aes(x = positive)) +
geom_histogram(bins = 100) +
scale_x_continuous(labels = scales::comma)
data |>
ggplot(aes(x = positive)) +
geom_histogram(aes(y = after_stat(density)), bins = 100) +
scale_x_continuous(labels = scales::comma)
data |>
ggplot(aes(x = positive)) +
geom_histogram(aes(y = after_stat(density)), bins = 100) +
scale_x_continuous(labels = scales::comma) +
labs(title = "Density of positive cases",
x = "cases")
data |>
ggplot(aes(x = positive)) +
geom_histogram(aes(y = after_stat(density)), bins = 100) +
geom_density() +
scale_x_continuous(labels = scales::comma) +
labs(title = "Density of positive cases",
x = "cases")
data |>
ggplot(aes(x = positive)) +
geom_histogram(aes(y = after_stat(density)), bins = 80) +
geom_density() +
scale_x_continuous(labels = scales::comma) +
labs(title = "Density of positive cases",
x = "cases")
data |>
ggplot(aes(x = positive)) +
geom_histogram(aes(y = after_stat(density)), bins = 50) +
geom_density() +
scale_x_continuous(labels = scales::comma) +
labs(title = "Density of positive cases",
x = "cases")
data |>
ggplot(aes(x = positive)) +
geom_histogram(aes(y = after_stat(density)), bins = 100) +
geom_density() +
scale_x_continuous(labels = scales::comma) +
labs(title = "Density of positive cases",
x = "cases")
load("covid.RData")
dat |> dim()
dat |> colnames()
data |>
select(positive, AirPol, Obesity, Drug_death, Excessive_Drinking,
Smoking, Uninsured, Popdensity, Pop) |>
pivot_longer(-positive)
data |>
select(positive, AirPol, Obesity, Drug_death, Excessive_Drinking,
Smoking, Uninsured, Popdensity, Pop) |>
pivot_longer(-positive) |>
ggplot(aes(x = value, y = positive)) +
geom_point() +
geom_smooth() +
facet_wrap(~name)
data |>
select(positive, AirPol, Obesity, Drug_death, Excessive_Drinking,
Smoking, Uninsured, Popdensity, Pop) |>
pivot_longer(-positive) |>
ggplot(aes(x = value, y = positive)) +
geom_point() +
geom_smooth() +
facet_wrap(~name, scales = "free_x")
#| include: false
library(tidyverse); theme_set(theme_bw())
library(cowplot)
library(gtsummary)
library(sp)
library(geoR)
library(gstat)
library(plotly)
load("covid.RData")
dat
dat$Date[1]
testing_rate <- plot_data |>
ggplot(aes(x = long,  y = lat, group = group)) +
geom_polygon(aes(fill = test_rate*100000), color = "black") +
theme_void() +
scale_fill_distiller(palette = 2) +
labs(title = "Tests per 100k", fill = "count") +
theme(plot.title = element_text(hjust = .5))
plot_data <- data |>
select(
State,positive, totalTestResults, Pop,
Smoking, AirPol, Obesity, Uninsured
) |>
mutate(
test_rate = (totalTestResults / Pop) * 100,
positive_perc = positive / totalTestResults,
State = str_to_lower(State)
) |>
rename(region = State)
library(tidyverse); theme_set(theme_bw())
#| include: false
library(tidyverse); theme_set(theme_bw())
library(cowplot)
library(gtsummary)
library(sp)
library(geoR)
library(gstat)
library(plotly)
load("covid.RData")
#| include: false
US <- map_data("state")
data <- dat |>
mutate(pos_test_rate = positive / totalTestResults,
test_rate = totalTestResults / Pop)
dat <- dat |>
mutate(State = str_to_lower(State))
pos_count <- dat |> select(State, positive, Pop) |> rename(region = State)
map_counts <- left_join(US, pos_count)
plot_data <- data |>
select(
State,positive, totalTestResults, Pop,
Smoking, AirPol, Obesity, Uninsured
) |>
mutate(
test_rate = (totalTestResults / Pop) * 100,
positive_perc = positive / totalTestResults,
State = str_to_lower(State)
) |>
rename(region = State)
plot_data |>
ggplot(aes(x = long,  y = lat, group = group)) +
geom_polygon(aes(fill = test_rate*100000), color = "black") +
theme_void() +
scale_fill_distiller(palette = 2, labels = scales::comma) +
labs(title = "Tests per 100k", fill = "count") +
theme(plot.title = element_text(hjust = .5))
plot_data
plot_data <- left_join(US, plot_data)
plot_data |>
ggplot(aes(x = long,  y = lat, group = group)) +
geom_polygon(aes(fill = test_rate*100000), color = "black") +
theme_void() +
scale_fill_distiller(palette = 2, labels = scales::comma) +
labs(title = "Tests per 100k", fill = "count") +
theme(plot.title = element_text(hjust = .5))
#| include: false
library(tidyverse); theme_set(theme_bw())
library(cowplot)
library(gtsummary)
library(sp)
library(geoR)
library(gstat)
library(plotly)
load("covid.RData")
tb <- read_delim("TB_data.txt", " ")
tb <- read_delim("TB_data.txt", " ")
tb <- read_delim("TB_data.txt", " ")
tb <- read_delim("TB_data.txt", " ")
tb <- read_delim("TB_data.txt", " ")
tb <- read_delim("TB_data.txt", " ")
tb <- read_delim("TB_data.txt", " ")
tb <- read_delim("TB_data.txt", "\t")
tb
tb$...1
tb <- read_delim("TB_data.txt", "\t")
tb <- read_delim("TB_data.txt", "\t")
tb <- read_delim("TB_data.txt", "\t")
tb <- read_delim("TB_data.txt", "\t")
tb <- read_delim("TB_data.txt", "\t")
tb <- read_delim("TB_data.txt", "\t")[2:5, ]
tb
tb <- select(tb, -`... 1`)
tb <- select(tb, -1)
tb
#| include: false
library(tidyverse); theme_set(theme_bw())
library(cowplot)
library(gtsummary)
library(sp)
library(geoR)
library(gstat)
library(plotly)
load("covid.RData")
tb <- read_delim("TB_data.txt", "\t")
tb <- select(tb, -1)
cancer <- read_csv("lung-bronchus.csv")
cancer
cancer |>
janitor::clean_names()
cancer_counts <- cancer |>
janitor::clean_names() |>
select(area, cancer_type, case_count) |>
rename(
state = area,
disease = cancer_type,
count = case_count
)
cancer_counts
cancer_counts <- cancer[4:52] |>
janitor::clean_names() |>
select(area, cancer_type, case_count) |>
rename(
state = area,
disease = cancer_type,
count = case_count
)
cancer_counts <- cancer[4:52, ] |>
janitor::clean_names() |>
select(area, cancer_type, case_count) |>
rename(
state = area,
disease = cancer_type,
count = case_count
)
cancer_counts <- cancer[4:53, ] |>
janitor::clean_names() |>
select(area, cancer_type, case_count) |>
rename(
state = area,
disease = cancer_type,
count = case_count
)
cancer_counts <- cancer[4:54, ] |>
janitor::clean_names() |>
select(area, cancer_type, case_count) |>
rename(
state = area,
disease = cancer_type,
count = case_count
)
dim(cancer)
cancer_counts <- cancer[4:52, ] |>
janitor::clean_names() |>
select(area, cancer_type, case_count) |>
rename(
state = area,
disease = cancer_type,
count = case_count
)
cancer_counts
cancer_counts <- cancer[4:52, ] |>
janitor::clean_names() |>
select(area, cancer_type, case_count) |>
rename(
state = area,
disease = cancer_type,
count = case_count
) |>
mutate(count = as.numeric(count))
cancer_counts <- cancer[4:52, ] |>
janitor::clean_names() |>
select(area, cancer_type, case_count) |>
rename(
state = area,
disease = cancer_type,
count = case_count
) |>
mutate(
count = as.numeric(count),
state = str_to_lower(state))
US
#| include: false
US <- map_data("state")
data <- dat |>
mutate(pos_test_rate = positive / totalTestResults,
test_rate = totalTestResults / Pop)
dat <- dat |>
mutate(State = str_to_lower(State))
pos_count <- dat |> select(State, positive, Pop) |> rename(region = State)
map_counts <- left_join(US, pos_count)
US
map_counts_lung <- left_join(US, cancer_counts)
cancer_counts <- cancer[4:52, ] |>
janitor::clean_names() |>
select(area, cancer_type, case_count) |>
rename(
region = area,
disease = cancer_type,
count = case_count
) |>
mutate(
count = as.numeric(count),
region = str_to_lower(state))
map_counts_lung <- left_join(US, cancer_counts)
cancer_counts <- cancer[4:52, ] |>
janitor::clean_names() |>
select(area, cancer_type, case_count) |>
rename(
region = area,
disease = cancer_type,
count = case_count
) |>
mutate(
count = as.numeric(count),
region = str_to_lower(region))
map_counts_lung <- left_join(US, cancer_counts)
map_counts_lung |>
ggplot(aes(x = long,  y = lat, group = group)) +
geom_polygon(aes(fill = positive), color = "black") +
theme_void() +
scale_fill_distiller() +
labs(title = "Positive count", fill = "Count") +
theme(plot.title = element_text(hjust = .5))
map_counts_lung |>
ggplot(aes(x = long,  y = lat, group = group)) +
geom_polygon(aes(fill = count), color = "black") +
theme_void() +
scale_fill_distiller() +
labs(title = "Positive count", fill = "Count") +
theme(plot.title = element_text(hjust = .5))
map_counts_lung |>
ggplot(aes(x = long,  y = lat, group = group)) +
geom_polygon(aes(fill = count), color = "black") +
theme_void() +
scale_fill_distiller() +
labs(title = "Lung cancer cases", fill = "Count") +
theme(plot.title = element_text(hjust = .5)) +
coord_map()
library(tidyverse); theme_set(theme_bw() + coord_map())
cancer
cancer_counts
cancer_counts |>
ggplot(aes(x = count))
cancer_counts |>
ggplot(aes(x = count)) +
geom_histogram()
cancer_counts |>
ggplot(aes(x = count)) +
geom_histogram(aes(y = after_stat(density))) +
geom_density
cancer_counts |>
ggplot(aes(x = count)) +
geom_histogram(aes(y = after_stat(density))) +
geom_density()
cancer_counts |>
ggplot(aes(x = count)) +
geom_histogram(aes(y = after_stat(density))) +
geom_density() +
scale_x_continuous(labels = scales::comma(big.mark = ","))
cancer_counts |>
ggplot(aes(x = count)) +
geom_histogram(aes(y = after_stat(density))) +
geom_density() +
scale_x_continuous(labels = scales::comma(count, big.mark = ","))
cancer_counts |>
ggplot(aes(x = count)) +
geom_histogram(aes(y = after_stat(density))) +
geom_density() +
scale_x_continuous(labels = scales::comma)
cancer_counts |>
ggplot(aes(x = count)) +
geom_histogram(aes(y = after_stat(density)), bins = 50) +
geom_density() +
scale_x_continuous(labels = scales::comma)
cancer_counts |>
ggplot(aes(x = count)) +
geom_histogram(aes(y = after_stat(density)), bins = 25) +
geom_density() +
scale_x_continuous(labels = scales::comma)
cancer_counts |>
ggplot(aes(x = count)) +
geom_histogram(aes(y = after_stat(density)), bins = 20) +
geom_density() +
scale_x_continuous(labels = scales::comma)
cancer_counts |>
ggplot(aes(x = count)) +
geom_histogram(aes(y = after_stat(density)), bins = 25) +
geom_density() +
scale_x_continuous(labels = scales::comma)
cancer_counts |>
ggplot(aes(x = count)) +
geom_histogram(aes(y = after_stat(density)), bins = 15) +
geom_density() +
scale_x_continuous(labels = scales::comma)
cancer_counts |>
ggplot(aes(x = count)) +
geom_histogram(aes(y = after_stat(density)), bins = 20) +
geom_density() +
scale_x_continuous(labels = scales::comma)
cancer_counts |>
ggplot(aes(x = count)) +
geom_histogram(aes(y = after_stat(density)), bins = 18) +
geom_density() +
scale_x_continuous(labels = scales::comma)
cancer_counts |>
ggplot(aes(x = count)) +
geom_histogram(aes(y = after_stat(density)), bins = 18) +
geom_density() +
scale_x_continuous(labels = scales::comma) +
labs(title = "Distribution of lung cancer counts")
cancer_counts |>
ggplot(aes(x = count)) +
geom_histogram(aes(y = after_stat(density)), bins = 18) +
geom_density() +
scale_x_continuous(labels = scales::comma) +
labs(title = "Distribution of lung cancer counts",
x = "cases")
cancer_counts |>
ggplot(aes(y = count)) +
geom_boxplot()
cancer_counts |>
ggplot(aes(y = count)) +
geom_boxplot() +
geom_violin()
cancer_counts |>
ggplot(aes(y = count)) +
geom_violin()
cancer_counts |>
ggplot(aes(x = count)) +
geom_violin()
cancer_counts |>
ggplot(aes(y = count)) +
geom_boxplot()
cancer_counts |>
ggplot(aes(y = count)) +
geom_boxplot() +
geom_histogram()
cancer_counts |>
ggplot(aes(y = count)) +
geom_histogram() +
geom_boxplot()
cancer_counts |>
ggplot(aes(y = count)) +
geom_histogram(bins = 15) +
geom_boxplot()
cancer_counts |>
ggplot(aes(y = count)) +
geom_histogram(aes(x = after_stat(density)), bins = 15) +
geom_boxplot()
cancer_counts |>
ggplot(aes(y = count)) +
geom_histogram(aes(x = after_stat(density)), bins = 15) +
geom_boxplot(width = .5)
cancer_counts |>
ggplot(aes(y = count)) +
geom_histogram(aes(x = after_stat(density)), bins = 15) +
geom_boxplot(width = .1)
cancer_counts |>
ggplot(aes(y = count)) +
geom_histogram(aes(x = after_stat(density)), bins = 15) +
geom_boxplot(width = .001)
cancer_counts |>
ggplot(aes(y = count)) +
geom_histogram(aes(x = after_stat(density)), bins = 15) +
geom_boxplot(width = 1e-6)
cancer_counts |>
ggplot(aes(y = count)) +
geom_histogram(aes(x = after_stat(density)), bins = 15) +
geom_boxplot(width = 1e-5)
cancer_counts |>
ggplot(aes(y = count)) +
geom_histogram(aes(x = after_stat(density)), bins = 15) +
geom_boxplot(width = 1e-4)
cancer_counts |>
ggplot(aes(y = count)) +
geom_histogram(aes(x = after_stat(density)), bins = 15)
?geom_violin
cancer_counts |>
ggplot(aes(y = count)) +
geom_violin(aes(x = after_stat(density)), bins = 15)
cancer_counts |>
ggplot(aes(y = count)) +
geom_histogram(aes(x = after_stat(density)), bins = 15)
cancer_counts |>
ggplot(aes(x = count)) +
geom_histogram(aes(y = after_stat(density)), bins = 18) +
geom_density() +
scale_x_continuous(labels = scales::comma) +
labs(title = "Distribution of lung cancer counts",
x = "cases")
cancer_counts |>
tbl_summary()
cancer_counts |>
select(-region) |>
tbl_summary()
cancer_counts |>
select(count) |>
tbl_summary()
